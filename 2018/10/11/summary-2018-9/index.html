<!DOCTYPE html>
<html>
  
<head>
  <meta charset="utf-8">
  <meta name="author" content="Dong Yuanxin" />
  
  
  <title>summary-2018.9 | biubiu的博客</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="summary," />
  

  
  <meta name="description" content="董沅鑫的小站">

  

  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>
  

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  
    <script src="//unpkg.com/valine/dist/Valine.min.js" async></script>
  

  

  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"Hyq9wkH495DgNHWhDQCOfQSp-gzGzoHsz","appkey":"WaR7nrzhliHj9aVwdQzkdlGd","comment":true,"count":true},
    welcome: {"enable":false,"interval":30},
    start_time: "2018-02-10",
    passwords: ["efe07af7441da2b69c4a41e42e73be4db47f66010a56900788a458354a7373ec", ],
    is_post: true,
    lock: false,
    author: "Dong Yuanxin",
    share: {"twitter":true,"facebook":true,"weibo":true,"qq":true,"wechat":true},
    mathjax: true,
    page_type: "",
    root: "/"
  };
</script>

  <script src="/vendor/sha256.min.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/index.js"></script>
<script src="/vendor/qrcode.min.js"></script>

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/styles/components/highlight/highlight.css">

  
</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/">GODBMW</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 安静写些东西</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/" target="_self">首页</a>
      
        <a href="/archives/" target="_self">归档</a>
      
        <a href="/tags/" target="_self">标签</a>
      
        <a href="/categories/" target="_self">分类</a>
      
        <a href="/friends/" target="_self">友链</a>
      
        <a href="/about/" target="_self">关于</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://github.com/dongyuanxin/" target="_blank" id="site-github">
          <i class="fa fa-github-alt"></i>
        </a>
      
      <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
      <a href="javascript:void(0);" id="site-nav-btn">
        <i class="fa fa-ellipsis-v"></i>
      </a>
    </div>
  </div>
</header>
<nav class="table-content" id="site-nav">
  <div class="table-content-title">
    <span>导航</span>
  </div>
  <div class="table-content-main">
    <ol class="toc">
      
        <li class="toc-item">
          <a href="/" target="_self">
            首页
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/archives/" target="_self">
            归档
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/tags/" target="_self">
            标签
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/categories/" target="_self">
            分类
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/friends/" target="_self">
            友链
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/about/" target="_self">
            关于
          </a>
        </li>
      
    </ol>
  </div>
</nav>
<div id="site-process"></div>
    <main>
      
  <div class="passage">
  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2018-10-11
    </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    summary-2018.9
  </h1>
  
  <article class="passage-article">
    <h1 id="summary-2018-9"><a href="#summary-2018-9" class="headerlink" title="summary-2018-9"></a>summary-2018-9</h1><hr>
<p>这是在学会搭建博客之后的第一篇博客，以前学习的时候也有记笔记，所以把之前学习笔记上面整理的常见的功能、封装以及遇到的问题写出来，这篇仅限于js，jq。现在正在学习vue，希望在过段时间，自己也能写出关于vue学习的总结。<br>在此之前还需要了解markdown的语法TAT</p>
<blockquote>
<p>原来的笔记记录在石墨文档，<a href="https://shimo.im/docs/c8YrJy4obNICaWiS/" target="_blank" rel="noopener">https://shimo.im/docs/c8YrJy4obNICaWiS/</a></p>
</blockquote>
<h2 id="ID处理"><a href="#ID处理" class="headerlink" title="ID处理"></a>ID处理</h2><pre><code class="javascript">/** 获取id */
function $(id) {
    return typeof id === &quot;string&quot; ? document.getElementById(id) : null;
}
</code></pre>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><h3 id="匀速动画"><a href="#匀速动画" class="headerlink" title="匀速动画"></a>匀速动画</h3><pre><code class="javascript">//元素，目标，步数
function constant(obj, target, speed) {
    // 1. 清除定时器
    clearInterval(obj.timer);
    //2.判断方向
    //如果现在的距离小于目标值,则往右，否则向左
    let dir =obj.offsetLeft&lt;target?speed:-speed;
    //3. 设置定时器
    obj.timer = setInterval(function () {
        obj.style.left = obj.offsetLeft + dir + &quot;px&quot;;
        //若超出目标值或者不到目标值
        //最后相减的值取绝对值后，总是小于步数的
        //Math.abs(dir)||speed
        if(Math.abs(target-obj.offsetLeft)&lt;Math.abs(dir)){
            clearInterval(obj.timer);
            //根据目标值板正
            obj.style.left =target+&#39;px&#39;;
        }
    }, 20);
}
</code></pre>
<h3 id="缓动动画"><a href="#缓动动画" class="headerlink" title="缓动动画"></a>缓动动画</h3><pre><code class="javascript">function buffer(obj, json, fn) {
    // 1. 清除定时器
    clearInterval(obj.timer);
    var begin = 0, end = 0;
    // 2. 设置定时器
    obj.timer = setInterval(function () {
        // 2.0 旗帜, 决定动画是否结束
        let flag = true;
        // 2.1 遍历
        for(let k in json){
            // 2.2.-1 求出起始值 和 结束值
            if(k === &#39;opacity&#39;){ // 透明度
                begin = parseInt( parseFloat(getCssAttr(obj, k)) * 100);
                end = parseInt(parseFloat(json[k]) * 100);
            }else if(k === &#39;scrollTop&#39;){ // 滚动到头部
                begin = obj.scrollTop;
                end = parseInt(json[k]);
            }else { // 正常情况
                begin = parseInt(getCssAttr(obj, k));
                end = parseInt(json[k]);
            }
            // 2.2.0 求出步长
            //步长公式
            let step = (end - begin) * 0.2;
            step = step &gt;=0 ? Math.ceil(step) : Math.floor(step);
            // 2.2.1 计算起始位置
            if(k === &#39;opacity&#39;){
                obj.style.opacity = (begin + step) / 100;
                obj.style.filter = &#39;alpha(opacity=&#39; + (begin + end)+&#39;)&#39;; // 针对IE
            }else if(k === &#39;scrollTop&#39;){
                obj.scrollTop = begin + step;
            }else if(k === &#39;zIndex&#39;){
                obj.style[k] = json[k];
            }else {
                obj.style[k] = begin + step + &#39;px&#39;;
            }
            // 2.2.2 判断
            if(begin !== end){
                flag = false;
            }
        }
        // 3.0 结束动画
        if(flag){
            clearInterval(obj.timer);
            // 开启动画组中的下一组动画
            if(fn){ // 判断有没有这个函数
                fn();
            }
        }
    }, 60);
}
</code></pre>
<h4 id="js获取CSS"><a href="#js获取CSS" class="headerlink" title="js获取CSS"></a>js获取CSS</h4><p>利用 [] 访问属性 元素.style[“属性”];</p>
<pre><code class="js">//这种语法的好处就是可以动态的传递参数作为属性
//只能获取行类标签
     var h = &#39;height&#39;;
     box.style[h] = 300 + &#39;px&#39;;
//获取外部css或页内的css
function getStyleAttr(obj, attr) {
    if(obj.currentStyle){ // IE 和 opera
         return obj.currentStyle[attr];
    }else {
    //window.getComputedStyle(&quot;元素&quot;, &quot;伪类&quot;) （ 注意：两个选项是必须的，没有伪类 用 null 替代 ）
    //也可以点选，但是为了传递参数作为属性
         return window.getComputedStyle(obj, null)[attr];
    }
}
</code></pre>
<h4 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h4><ul>
<li>在定时器事件前，先设置接收定时器的变量指向null</li>
<li>在定时器事件里，先要清除定时器再设置定时器，先清除是防止定时器累加<h2 id="轮播"><a href="#轮播" class="headerlink" title="轮播"></a>轮播</h2><h3 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h3>这种不适合多图<pre><code class="js">function slider (sliderid,olStyleClassName,imgWidth,speed,second) {
//高级排他
//lastIndex 选中的小圆点样式 currentIndex 小圆点索引  picIndex 图片索引
let lastIndex=0,currentIndex=0,picIndex=0;
// 1. 获取需要的标签
let ul=$(sliderid).children[0];
let  ol=$(sliderid).children[1];
let list=ul.children;
let olList= ol.children;
// 2.克隆最后一个li标签
ul.appendChild(list[0].cloneNode(true));
// 3.动态创建小圆点
for(let i= 0;i&lt;list.length-1;i++){
    let li =document.createElement(&quot;li&quot;);
    ol.appendChild(li);
}
//4.第一个小圆点选中
olList[0].className=olStyleClassName;
//5.监听每个li的进入事件
for(let i= 0;i&lt;olList.length;i++){
    //5.1 每一个li绑定自己的事件
    olList[i].onmouseover=function () {
        //先清除之前的选中状态，在把当前选中的索引给lastIndex
        lastIndex=currentIndex;
        olList[lastIndex].className=&quot;&quot;;
        this.className=olStyleClassName;
        lastIndex=i;
        //5.2图片动起来
        constant(ul,-(i * imgWidth),speed);
        currentIndex=picIndex=i;
    };
}
//6.定时器
let timer;
timer = setInterval(autoPlay, second);
// 7. 清除和设置定时器
$(sliderid).onmouseover = function () {
    clearInterval(timer);
};
$(sliderid).onmouseout = function () {
    timer = setInterval(autoPlay, second);
};
function autoPlay(){
    picIndex++;
    currentIndex++;
    //如果图片到了最后一张
    if (picIndex &gt; list.length - 1) {
        ul.style.left = 0;
        //从第二张图片开始
        picIndex = 1;
    }
    constant(ul, -(picIndex * imgWidth), speed);
    //小原点的选中
    if (currentIndex &gt; olList.length - 1) {
        currentIndex = 0;
    }
    for (let i=0;i&lt;olList.length;i++){
        olList[i].className=&quot;&quot;;
    }
    olList[currentIndex].className=olStyleClassName;
}
}
</code></pre>
<h3 id="第二种"><a href="#第二种" class="headerlink" title="第二种"></a>第二种</h3>两个图片宽度的位置，第一个位置显示（当前），第二位置隐藏<br><img src="/img/summary-2018.9/summary01.png" alt="轮播图"><h3 id="第三种"><a href="#第三种" class="headerlink" title="第三种"></a>第三种</h3>改变透明度，循环一遍让所有的opacity动画为0，然后当前为opacity动画为1，索引++、<pre><code class="js">function opacityAutoPlay(ulid,speed) {
// 1. 获取所有的li标签
var lis = $(ulid).getElementsByTagName(&quot;li&quot;);
var index = 0;
// 2. 开始定时器
setInterval(function () {
    // 2.1 改变透明度
    for(let i=0; i&lt;lis.length; i++){
        let singerLi = lis[i];
        buffer(singerLi, {opacity: 0}, null);
    }
    buffer(lis[index], {opacity: 1}, null);
    // 2.2 索引++
    index++;
    if(index === lis.length){
        index = 0;
    }
}, speed);
}
</code></pre>
<h2 id="瀑布流"><a href="#瀑布流" class="headerlink" title="瀑布流"></a>瀑布流</h2></li>
<li>父盒子居中<ol>
<li>Math.floor(屏幕宽度/子盒子宽度)=cols</li>
<li>子盒子的宽度*cols=父盒子的宽度</li>
<li>margin:0 auto;</li>
</ol>
</li>
<li><p>子盒子定位<br>第一行不变，其他子盒子接在第一行最矮的盒子的后面（反复）</p>
<ol>
<li>拿到所有盒子的高度。把第一行的盒子的高度放在一个数组里面（i&lt;cols,heightArr[])</li>
<li>在剩下的盒子里面(i&gt;=cols),找出第一行最矮的盒子的高度（Math.min(…heightArr)||Math.min.apply(this.height)）<br>2.1 找出最矮盒子的索引(遍历heightArr[],找出和第二步盒子高度一样的i返回)<br>2.2 剩下盒子定位（left=第2.1步的索引*子盒子宽度，top=最矮的盒子高度）<br>2.3 更新最矮盒子的高度 （heightArr[最矮盒子的高度]+=当前盒子的高度）</li>
</ol>
<ul>
<li>滚动加载图片</li>
</ul>
<ol>
<li>监听窗口的滚动，滚动到你需要的位置加载</li>
</ol>
<p>js</p>
<pre><code class="js">window.onload = function () {
// 1. 实现瀑布流布局
waterFull(&quot;main&quot;, &quot;box&quot;);

// 2. 动态加载图片
window.onscroll = function () {
    if(checkWillLoadImage()){
        // 2.1 造数据
        var dataArr = [
            {&quot;src&quot;: &quot;img04.jpg&quot;},
            {&quot;src&quot;: &quot;img06.jpg&quot;},
            {&quot;src&quot;: &quot;img08.jpg&quot;},
            {&quot;src&quot;: &quot;img09.jpg&quot;},
            {&quot;src&quot;: &quot;img10.jpg&quot;},
            {&quot;src&quot;: &quot;img12.jpg&quot;},
            {&quot;src&quot;: &quot;img14.jpg&quot;},
            {&quot;src&quot;: &quot;img16.jpg&quot;},
            {&quot;src&quot;: &quot;img18.jpg&quot;}
        ];
        // 2.2 创建元素
        for(var i=0; i&lt;dataArr.length; i++){
            var newBox = document.createElement(&quot;div&quot;);
            newBox.className = &quot;box&quot;;
            $(&quot;main&quot;).appendChild(newBox);

            var newPic = document.createElement(&quot;div&quot;);
            newPic.className = &quot;pic&quot;;
            newBox.appendChild(newPic);

            var newImg = document.createElement(&quot;img&quot;);
            newImg.src = &quot;images/&quot; + dataArr[i].src;
            newPic.appendChild(newImg);
        }
        // 2.3 重新布局
        waterFull(&quot;main&quot;, &quot;box&quot;);
    }
}
};
/**
* 实现瀑布流布局
*/
function waterFull(parent, child) {
// 1. 父盒子居中
// 1.1 获取所有的盒子
var allBox = $(parent).getElementsByClassName(child);
// 1.2 获取子盒子的宽度
var boxWidth = allBox[0].offsetWidth;
// 1.3 获取屏幕的宽度
var screenW = document.documentElement.clientWidth;
// 1.4 求出列数
var cols = parseInt(screenW / boxWidth);
// 1.5 父盒子居中
$(parent).style.width = cols * boxWidth + &#39;px&#39;;
$(parent).style.margin = &quot;0
// 2. 子盒子的定位
// 2.1 定义高度数组
var heightArr = [], boxHeight = 0, minBoxHeight = 0, minBoxIndex = 0;
// 2.2 遍历子盒子
for (var i = 0; i &lt; allBox.length; i++) {
    // 2.2.1 求出每一个子盒子的高度
    boxHeight = allBox[i].offsetHeight;
    // 2.2.2 取出第一行盒子的高度放入高度数组
    if (i &lt; cols) { // 第一行
        heightArr.push(boxHeight);
    } else { // 剩余行
        // 1. 取出最矮的盒子高度
        // minBoxHeight = _.min(heightArr);
        minBoxHeight=Math.min(...heightArr);
        // 2. 求出最矮盒子对应的索引
        minBoxIndex = getMinBoxIndex(heightArr, minBoxHeight);
        // 3. 子盒子定位
        allBox[i].style.position = &quot;absolute&quot;;
        allBox[i].style.left = minBoxIndex * boxWidth + &#39;px&#39;;
        allBox[i].style.top = minBoxHeight + &#39;px&#39;;
        // 4. 更新数组中的高度
        heightArr[minBoxIndex] += boxHeight;
    }
}
console.log(heightArr, minBoxHeight, minBoxIndex);
}
/**
* 获取数组中最矮盒子高度的索引
* @param arr
* @param val
* @returns {number}
*/
function getMinBoxIndex(arr, val) {
for(var i=0; i&lt;arr.length; i++){
    if(arr[i] === val){
        return i;
    }
}
}
/**
* 判断是否具备加载图片的条件
*/
function checkWillLoadImage() {
// 1. 获取最后一个盒子
var allBox = document.getElementsByClassName(&quot;box&quot;);
var lastBox = allBox[allBox.length - 1];
// 2. 求出最后一个盒子自身高度的一半 + offsetTop
var lastBoxDis = lastBox.offsetHeight * 0.5 + lastBox.offsetTop;
// 3. 求出屏幕的高度
var screenW = document.body.clientHeight || document.documentElement.clientHeight;
// 4. 求出页面偏离浏览器的高度
var scrollTop = scroll().top;
return lastBoxDis &lt;= screenW + scrollTop;
}
</code></pre>
<p>jq</p>
<pre><code class="js">//当页面加载完毕
$(window).on(&#39;load&#39;,function () {
//1.实现瀑布流布局
waterFall();
//2.滚动加载
$(window).on(&#39;scroll&#39;,function () {
//判断是否加载
if (checkWillLoad())
{
////创造假数据
var data = {&#39;dataImg&#39;:[{&#39;img&#39;:&#39;23.jpg&#39;},{&#39;img&#39;:&#39;24.jpg&#39;},{&#39;img&#39;:&#39;25.jpg&#39;},{&#39;img&#39;:&#39;26.jpg&#39;},{&#39;img&#39;:&#39;27.jpg&#39;},{&#39;img&#39;:&#39;28.jpg&#39;}]};
//遍历创建盒子
$.each(data.dataImg,function (index,value)
{
//创建一个div标签 设置它的类为&#39;box&#39; 添加到&#39;main&#39;里面去
var newBox = $(&#39;&lt;div&gt;&#39;).addClass(&#39;box&#39;).appendTo($(&#39;#main&#39;));
var newPic = $(&#39;&lt;div&gt;&#39;).addClass(&#39;pic&#39;).appendTo($(newBox));
    //创建img  取出遍历的对象value的img属性对应的值
 $(&#39;&lt;img&gt;&#39;).attr(&#39;src&#39;,&#39;images/&#39;+$(value).attr(&#39;img&#39;)).appendTo($(newPic));
    })
    //1.实现瀑布流布局
    waterFall();
    }
    });
    });
    //实现瀑布流布局
    function waterFall () {
    //拿到所有的盒子
    var allBox = $(&#39;#main &gt; .box&#39;);
    //取出其中一个盒子的宽度
    var boxWidth = $(allBox).eq(0).outerWidth();
    //取出屏幕的高度
    var screenWidth = $(window).width();
    //求出列数 //取整函数取整
    var cols = Math.floor( screenWidth/boxWidth);
    //父标签居中
    $(&#39;#main&#39;).css({
    &#39;width&#39;:cols * boxWidth + &#39;px&#39;,
    &#39;margin&#39;:&#39;0 auto&#39;
    });
    //对子盒子定位
    var heightArr = [];
    //遍历
    $.each(allBox,function (index,value) {
    //取出单独盒子的高度
    var boxHeight = $(value).outerHeight();
    //判断是否第一行
    if(index &lt; cols)
    {
    heightArr[index] = boxHeight;
    }
    else  //剩余的盒子要瀑布流布局
    {
    //求出最矮的盒子高度
    var minBoxHeight = Math.min.apply(null,heightArr);
    //取出最矮高度对应的索引  封装了js的这个方法
    var minBoxIndex = $.inArray(minBoxHeight,heightArr);
    //定位
    $(value).css({
    &#39;position&#39;:&#39;absolute&#39;,
    &#39;top&#39;:minBoxHeight + &#39;px&#39;,
    &#39;left&#39;:minBoxIndex * boxWidth + &#39;px&#39;
    });
    //更新数组中最矮的高度
    heightArr[minBoxIndex] += boxHeight;
    }
    })
    }
    //判断是否符合加载条件
    function checkWillLoad() {
    //直接取出最后一个盒子
    var lastBox = $(&#39;#main &gt; div&#39;).last();
    //取出最后一个盒子高度的一半 + 头部偏离的位置
    var lastBoxDis = $(lastBox).outerHeight() + $(lastBox).offset().top;
    //求出浏览器的高度
    var clientHeight = $(window).height();
    //求出页面偏离浏览器高度
    var scrollTopHeight = $(window).scrollTop();
    //比较返回
    return lastBoxDis &lt;= clientHeight + scrollTopHeight;
    }
</code></pre>
<h4 id="margin-0-auto"><a href="#margin-0-auto" class="headerlink" title="margin:0 auto"></a>margin:0 auto</h4><ol>
<li>块级元素</li>
<li>给定要居中的块级元素的宽度。</li>
<li>所有元素也可以通过对父元素设置<code>text-align：center；</code>的方式来实现居中。而对于块元素来说，对要居中的元素自身进行设置<code>text-align:center</code>也能实现居中</li>
<li><code>margin:0 auto;</code>可以使盒子居中，<code>text-align:center;</code>可以使文本居中，<h4 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h4>onresize举列子<br>窗口大小一变化就执行，太过灵敏，所以需要阻止<pre><code class="js">//使用定时器
var timer = null;
window.onresize = function () {
clearTimeout(timer);
// 节流
timer = setTimeout(function () {
 waterFull(&#39;main&#39;, &#39;box&#39;);
}, 200);
}
//封装之后的
function throttle(fn, delay) {
var timer = null;
return function () {
 clearTimeout(timer);
 timer = setTimeout(fn, delay);
}
}
</code></pre>
<h4 id="apply-call"><a href="#apply-call" class="headerlink" title="apply/call"></a>apply/call</h4>这个面试中常考到，现在只做初步了解<br>(<a href="https://www.cnblogs.com/gaowx/p/4837687.html" target="_blank" rel="noopener">https://www.cnblogs.com/gaowx/p/4837687.html</a> )</li>
</ol>
<ul>
<li>改变函数的this指向</li>
<li><p>apply可以改变传递给函数参数的形式</p>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><pre><code class="js">function newDate(){
//声明日期对象，里面可以设置参数表示其他时间
let date =new Date();
//获取时间里面的年
date.getFullYear()
//月0-11
date.getMonth()+1
//日1-31
date.getDate()
//获取星期0-6
data.Day
//设置某一天
date.setDate（day）
//时0-23
date.getHours()
//分0-59
date.getMinutes()
//秒0-59
date.getSeconds()
//获取毫秒
date.getMilliSeconds()
//时间戳
date.getTime()
}
</code></pre>
<h3 id="ms转化时间"><a href="#ms转化时间" class="headerlink" title="ms转化时间"></a>ms转化时间</h3><p><img src="/img/summary-2018.9/data.jpg" alt="data"></p>
<h2 id="cookie封装"><a href="#cookie封装" class="headerlink" title="cookie封装"></a>cookie封装</h2><p>封装成插件，引入该文件后，$.addCookie(key,value,day,path,domain)来引用</p>
<pre><code class="js">;(function ($,window) {
$.extend({
  addCookie:
  function addCookie(key,value,day,path,domain){
  //1.处理默认保存的路径
  var index=window.location.pathname.lastIndexOf(&#39;/&#39;);
  var currentPath=window.location.pathname.slice(0,index)
  path=path||currentPath
  //2.处理默认domain
  domain=domain||document.domain
  //3.处理默认的过期时间
  if(!day){
    document.cookie=key+&quot;=&quot;+value+&quot;;path=&quot;+path+&quot;;domain=&quot;+domain+&#39;;&#39;
  }
  else{
      var date =new Date();
      date.setDate(date.getDate()+day)
      document.cookie=key+&quot;=&quot;+value+&quot;;expires=&quot;+date.toGMTString()+&quot;;path=&quot;+path+&quot;;domain=&quot;+domain+&#39;;&#39;

  }
},
  getCookie:
  function getCookie(key){
  var res=document.cookie.split(&#39;;&#39;)
  for(var i=0;i&lt;res.length;i++){
  //把key和value切割
      var temp=res[i].split(&#39;=&#39;)
      //前后可能有空格，把空格删除
      if(temp[0].trim()===key){
          return temp[1]
      }
  }
},
  delCookie:
  function delCookie(key, path) {
   //默认情况下只能删除默认路径中保存的cookie，如果要删除指定路径保存的cookie，要把路径值传出去
   //设置过期时间为-1
          addCookie(key, getCookie(key), -1, path)
      }
});
})(jQuery,window);
</code></pre>
<h2 id="动态添加的元素绑定事件"><a href="#动态添加的元素绑定事件" class="headerlink" title="动态添加的元素绑定事件"></a>动态添加的元素绑定事件</h2></li>
<li>delegate<pre><code>$(&#39;ul&#39;).delegate(&#39;li&#39;,&#39;click&#39;,function(){
//操作的还是li
})
</code></pre></li>
<li>onclick事件<br>在动态添加数据的时候，就给元素绑定onclick事件</li>
<li>on（）<br>常用<pre><code>//把动态添加的元素写在on里面，如果调用的函数是外部定义好的，则在调用的时候不加（）
//不然会跳过点击事件直接执行函数
$(&quot;父元素或祖辈元素&quot;).on(&quot;click&quot;,&quot;动态添加的元素&quot;,function(){
$(this).css(&quot;border&quot;,&quot;5px solid #000&quot;);
}
</code></pre><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="清除默认样式"><a href="#清除默认样式" class="headerlink" title="清除默认样式"></a>清除默认样式</h3><a href="http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css" target="_blank" rel="noopener">http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css</a><h3 id="下拉框"><a href="#下拉框" class="headerlink" title="下拉框"></a>下拉框</h3><pre><code class="js">//拿到select对象：
var myselect=document.getElementById(&quot;select&quot;);
//拿到选中项的索引
var index=myselect.selectedIndex ; // selectedIndex代表的是你所选中项的index
//拿到选中项options的value：
myselect.options[index].value;
//拿到选中项options的text：
myselect.options[index].text;
//拿到选中项的其他值，比如这里的url：
myselect.options[index].getAttribute(&#39;url&#39;);
//jquery
var options=$(“#select option:selected”); //获取选中的项
alert(options.val()); //拿到选中项的值
alert(options.text()); //拿到选中项的文本
alert(options.attr(&#39;url&#39;)); //拿到选中项的url值
//设置
//设置value为pxx的项选中
$(&quot;.selector&quot;).val(&quot;pxx&quot;)
//设置text为pxx的项选中
$(&quot;.selector&quot;).find(&quot;option[text=&#39;pxx&#39;]&quot;).attr(&quot;selected&quot;,true)
</code></pre>
<h3 id="H5-datalist"><a href="#H5-datalist" class="headerlink" title="H5 datalist"></a>H5 datalist</h3>datalist 只是列表<br>赋值取值还是通过input.样式等都在input上操作<br><a href="https://www.zhangxinxu.com/wordpress/2013/03/html5-datalist-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8-%E5%8F%AF%E8%A1%8C%E6%80%A7/" target="_blank" rel="noopener">https://www.zhangxinxu.com/wordpress/2013/03/html5-datalist-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8-%E5%8F%AF%E8%A1%8C%E6%80%A7/</a><h4 id="邮箱的自动补全"><a href="#邮箱的自动补全" class="headerlink" title="邮箱的自动补全"></a>邮箱的自动补全</h4>HTML代码：<pre><code>邮箱：&lt;input type=&quot;email&quot; id=&quot;email&quot; list=&quot;emailList&quot; name=&quot;off_autocomplete&quot; /&gt;
&lt;datalist id=&quot;emailList&quot;&gt;
//其中*为占位符，当文本框输入内容的时候，*替换成邮箱地址的前半部分，于是，动态邮件地址提示的效果就实现了
&lt;option value=&quot;*@qq.com&quot;&gt;
&lt;option value=&quot;*@163.com&quot;&gt;
&lt;option value=&quot;*@gmail.com&quot;&gt;
&lt;option value=&quot;*@yahoo.com.cn&quot;&gt;
&lt;option value=&quot;*@126.com&quot;&gt;
&lt;/datalist&gt;
</code></pre>JS代码：<pre><code class="js">var eleList = document.getElementById(&quot;emailList&quot;)
, eleMail = document.getElementById(&quot;email&quot;)
, htmlListInit = &#39;&#39;, arrEmailList = [];
if (eleMail &amp;&amp; eleList &amp;&amp; (htmlListInit = eleList.innerHTML) !== &#39;&#39;) {
// 得到类似[&quot;qq.com&quot;, &quot;163.com&quot;, &quot;gmail.com&quot;, ...]的数据
arrEmailList = [].slice.call(eleList.getElementsByTagName(&quot;option&quot;)).map(function(option) {
  return option.value.replace(&quot;*@&quot;, &quot;&quot;);
});
eleMail.fnListReplace = function() {
  var arrValue = this.value.trim().split(&quot;@&quot;);
  // 修复FireFox浏览器下无限input问题
  // 如果值不完全匹配某option值，执行动态替换
  if (arrValue.length !== 2 || arrEmailList.indexOf(arrValue[1]) === -1) {
      eleList.innerHTML = htmlListInit.replace(/\*/g, arrValue[0]);
  }
  return this;
};
// 绑定输入事件侦听
eleMail.addEventListener(&quot;input&quot;, function() {
  this.fnListReplace.call(this);
}, false);
//  载入即匹配
eleMail.fnListReplace.call(eleMail).focus();
} else {
eleList = document.createElement(&quot;datalist&quot;);
eleList.innerHTML = &#39;&lt;p class=sorry&gt;抱歉，当前浏览器不支持HTML5 datalist.&lt;/p&gt;&#39;;
eleMail.parentNode.appendChild(eleList);
}
</code></pre>
<h4 id="jquery-editable-select控件"><a href="#jquery-editable-select控件" class="headerlink" title="jquery.editable-select控件"></a>jquery.editable-select控件</h4>引入<br>jquery.editable-select.css<br>jquery.editable-select.js<br>调用方法<pre><code class="js">$(&#39;#editable-select&#39;).editableSelect({
bg_iframe: true, //是否加iframe
case_sensitive: false,
items_then_scroll: 10 ,//设置下拉选项的数目
isFilter:false/true,    //是否根据条件过滤下拉选项
onCreate:,            //当输入时触发
onShow：,             //当下拉时触发
onHide：,              //当下拉框隐藏时触发
onSelect：,            //当下拉框中的选项被选中时触发
effects:default/slide/fade， //动画效果
duration：                   //动画效果的时间
});
</code></pre>
</li>
</ul>
</li>
</ul>

  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#summary-2018-9"><span class="toc-text">summary-2018-9</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ID处理"><span class="toc-text">ID处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动画"><span class="toc-text">动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#匀速动画"><span class="toc-text">匀速动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缓动动画"><span class="toc-text">缓动动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#js获取CSS"><span class="toc-text">js获取CSS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定时器"><span class="toc-text">定时器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#轮播"><span class="toc-text">轮播</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一种"><span class="toc-text">第一种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二种"><span class="toc-text">第二种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三种"><span class="toc-text">第三种</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#瀑布流"><span class="toc-text">瀑布流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#margin-0-auto"><span class="toc-text">margin:0 auto</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#节流"><span class="toc-text">节流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#apply-call"><span class="toc-text">apply/call</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date"><span class="toc-text">Date</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ms转化时间"><span class="toc-text">ms转化时间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cookie封装"><span class="toc-text">cookie封装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动态添加的元素绑定事件"><span class="toc-text">动态添加的元素绑定事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他"><span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#清除默认样式"><span class="toc-text">清除默认样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下拉框"><span class="toc-text">下拉框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H5-datalist"><span class="toc-text">H5 datalist</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#邮箱的自动补全"><span class="toc-text">邮箱的自动补全</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jquery-editable-select控件"><span class="toc-text">jquery.editable-select控件</span></a></li></ol></li></ol></li></ol></li></ol>
  </div>
</aside>
  
    <aside class="passage-copyright">
      <div>本文作者: 董沅鑫</div>
      
        <div>
          原文链接: 
          <a href="" target="_blank">http://yoursite.com/2018/10/11/summary-2018-9/</a>
        </div>
      
      <div>
        版权声明: 本博客所有文章除特别声明外, 均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议. 转载请注明出处!
      </div>
    </aside>
  
  
    <div class="passage-tags">
     
      <a href="/tags/summary/"><i class="fa fa-tags"></i>summary</a>
    
    </div>
  
</div>

    </main>
    
      
<div class="site-comment-contanier" data-plateform="leancloud">
  
    <p id="site-comment-info">
      <i class="fa fa-spinner fa-spin"></i> 评论加载中
    </p>
    <div id="site-comment"></div>
  
</div>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">博客推荐</h5>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/" target="_blank">GodBMW</a>
            </span>
          
            <span class="site-footer-item">
              <a href="http://ruanyifeng.com/" target="_blank">阮一峰的个人网站</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">系列教程</h5>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/categories/webpack4%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/" target="_blank">webpack4系列教程</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/design-patterns/" target="_blank">设计模式手册</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">抓到我</h5>
          
            <span class="site-footer-item">
              <a href="https://juejin.im/user/5b91fcf06fb9a05d3c7fd4a5" target="_blank">掘金</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://segmentfault.com/" target="_blank">思否</a>
            </span>
          
        </div>
      
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    
      <div class="site-footer-info">
        <i class="fa fa-at"></i> Email: yuanxin.me@gmail.com
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
  </footer>
</div>
    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <div class="site-layer-input-choose">
          <a href="javascript:void(0);" title="Change Search Engine">Google</a>
        </div>
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      
        <div class="site-layer-reward" id="site-layer-reward" style="display: none;">
          
            <div>
              <img src="/images/wechat.png" alt="WeChat">
              
                <p>WeChat</p>
              
            </div>
          
            <div>
              <img src="/images/alipay.png" alt="AliPay">
              
                <p>AliPay</p>
              
            </div>
          
        </div>
      
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="/2018/10/11/project-email/" data-enable="true">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="javascript:void(0);" data-enable="false">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
      <a href="#site-comment" data-enable="true">
        <i class="fa fa-commenting"></i>
      </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    
      <a href="javascript:void(0);" id="site-reward">
        <i class="fa fa-thumbs-up"></i>
      </a>
    
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
    <a id="share-btn-twitter" href="javascript:void(0);" target="_blank">
      <i class="fa fa-twitter"></i>
    </a>
  
  
    <a id="share-btn-facebook" href="javascript:void(0);" target="_blank">
      <i class="fa fa-facebook"></i>
    </a>
  
  
    <a id="share-btn-weibo" href="javascript:void(0);" target="_blank">
      <i class="fa fa-weibo"></i>
    </a>
  
  
    <a id="share-btn-qq" href="javascript:void(0);" target="_blank">
      <i class="fa fa-qq"></i>
    </a>
  
  
    <a id="share-btn-wechat" href="javascript:void(0);" target="_blank">
      <i class="fa fa-wechat"></i>
    </a>
  
</div>
    





    
  </body>
</html>